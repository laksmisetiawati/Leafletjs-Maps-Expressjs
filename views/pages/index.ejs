<!DOCTYPE html>
<html lang="en">
    <head>
        <%- include('../layout/head'); %>
    </head>
    <body class="container">

        <header>
            <%- include('../layout/header'); %>

            <style>
                #mapid { height: 400px; }
            </style>
        </header>

        <main>
            <div class="jumbotron">
                <div id="mapid"></div>
            </div>
        </main>

        <footer>
            <%- include('../layout/footer'); %>

            <script>

                var mymap = L.map('mapid').setView([-6.2449054,106.799237], 16);
            
                var locations = [
                    ["Papaya Fresh Gallery - BlokM", -6.245044,106.8017476,16],
                    ["Pasaraya Blok M", -6.2438909,106.8006669,17],
                    ["Bank BNI KCU Melawai Raya", -6.2459408,106.801457,17],
                    ["Ayam Goreng Berkah", -6.2467749,106.7997865,17]
                ];

                L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
                    maxZoom: 18,
                    attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, ' +
                        'Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
                    id: 'mapbox/streets-v11',
                    tileSize: 512,
                    zoomOffset: -1
                }).addTo(mymap);
            
                for (var i = 0; i < locations.length; i++) {
                    marker = new L.marker([locations[i][1], locations[i][2]])
                        .bindPopup(locations[i][0])
                        .addTo(mymap);
                }
            
                mymap.on('click', onMapClick);
            
            </script>
        </footer>

    </body>
</html>